<!DOCTYPE html>
<html>
  <head>
    <title>Miguel Quaresma - Docker Primer</title>
    <link rel="stylesheet" type="text/css" href="post_style.css"/>
  </head>

  <body>
    <div class="banner">
      <h1> Docker Primer </h1>
      <h2> Basics of Docker: how it works and how to use it </h2>
      <h3> 26/11/2019 </h3>
    </div>
    <div class="post">
      <h2> Backstory </h2>
      Docker, along with containers, are technologies that I've been trying to understand for quite
      sometime now, as I've had to use them more than once. However, I always managed to just Copy-Paste
      commands without really understanding how Docker worked under the hood. This meant that, whenever a problem
      would arise, I'd have to Google for the solution and be totally lost on whether the solution
      was actually the right one for the problem I was facing.
      This summer I finally decided to spend sometime reading through some of it's documentation and,
      with the help of <a href="https://www.youtube.com/watch?v=YFl2mCHdv24">Jake Wright's video</a>
      I took some notes that I thought could be useful for anyone in the same situation I was in.

      <h2> Terminology </h2>
      Here's some terminology to take into account when dealing with Docker:
      <ul>
        <li>Image: 
          <ul>
            <li>template describing the desired environment</li>
            <li>steps to build the image are specified in a Dockerfile</li>
            <li>DockerHub includes a collection of community images that can be customized to suit your needs</li>
          </ul>
        </li>
        <li>Container
          <ul>
            <li>running instance of a Docker Image</li>
          </ul>
        </li>
      </ul>
      For those familiar with Object Oriented Programming, you can look at Images as classes and Containers as objects.
      So, with those concepts out of the way, let's now focus on what Docker really is and how to use it.
      
      <h2> Brief overview of Docker </h2>
      Containers are frequently confused with Virtual Machines however, while macOS does require a Virtual Machine instance to be running
      alongside Docker due to the lack of native support (for containers), containers running in Linux use the host's machine kernel instead
      of creating an additional one, unlike VMs.
      The main purpose of Docker containers is to provide a reliable environment with which to develop and deploy applications. Additionally,
      containers also provide an isolated environment in which to run applications, even though this isolation is not as strong as in VMs.

      <h2> Usage </h2>
      As I've explained previously, the base of Docker are images as they are used to describe a specific environment.
      When you want to spin up a container, you must tell Docker where the image for that container is.
      To obtain images you can either create a Dockerfile and build the image from it:
      <br><br>      
      <code>$ docker build -t &ltimage_tag&gt &ltDockerfile_file&gt </code>
      <br><br>

      or grab one from <a href="https://hub.docker.com/search?q=&type=image">Docker Hub</a>
      using docker pull:
      <br><br>
      <code>$ docker pull &ltimage_name&gt</code> 
      <br><br>

      After building an image you can spin as many containers as you want from that image
      <br><br>
      <code>$ docker run &ltimage_id&gt</code>
      <br><br>

      <b>Tip:</b> to launch a container and get an interactive shell use the <code>-t</code> flag:
      <br><br>
      <code>$ docker run -it &ltimage_id&gt</code>
      <br><br>

      Another usefull feature that Docker provides is container orchestration, which facilitates the deployment of multi-container setups.
      The usefullness of this feature lies in the fact that most applications nowadays are multi-layered systems, where each layer runs
      in a separate environment but must interact with the other layers.
      <a href="https://docs.docker.com/compose/">Docker compose</a> is a tool provided by Docker that has commands for
      managing the lifecycle of multi-layered applications. The initial configuration is achieved via a YAML file, docker-compose.yml,
      which indicates the images (or Dockerfiles) used for the containers, called services, as well as the volumes, ports and dependencies
      of each service.
    </div>
    <div id="footer">
      <h2>
        <a href="/">cd ~/page</a>
      </h2>
    </div>
  </body>
  
</html>
